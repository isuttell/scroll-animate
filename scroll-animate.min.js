/*!
 ____ ____ ____ ____ _    _       ____ __ _ _ _  _ ____ ___ ____
 ==== |___ |--< [__] |___ |___ -- |--| | \| | |\/| |--|  |  |===
 scroll-animate 0.4.0 <https://github.com/isuttell/scroll-animate>
 Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 Last Build: 2014-12-08
*/
!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["jquery"],function(c){return b(a,c)}):a.ScrollAnimate=b(a,a.jQuery||a.$)}(this,function(){"use strict";function a(a,b,c,d){return a<Math.abs(d)?(a=d,b=c/4):b=c/k*Math.asin(d/a),{a:a,s:b}}function b(a,b,c){b=f.shallowClone(b||{}),this.options=f.assign(b,this.options),this.id=a,this.parent=c,this.$el=this.options.$el,delete this.options.$el,f.isFunction(this.options.tween)&&(this.tween=this.options.tween(this.options.$el).pause()),this.ease=f.isString(this.options.ease)&&f.isFunction(l[this.options.ease])?l[this.options.ease]:l.Linear,this.update(0)}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});for(var c=["ms","moz","webkit","o"],d=0;d<c.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[c[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[d]+"CancelAnimationFrame"]||window[c[d]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-e)),d=window.setTimeout(function(){a(b+c)},c);return e=b+c,d}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var f={},g=f.isType=function(a,b){var c={}.toString.call(a).toLowerCase();return c==="[object "+b.toLowerCase()+"]"},h=f.isFunction=function(a){return g(a,"function")},i=(f.isString=function(a){return g(a,"string")},f.isNumber=function(a){return g(a,"number")},f.isObject=function(a){return g(a,"object")}),j=(f.isBoolean=function(a){return g(a,"boolean")},f.shallowClone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},f.assign=function(a,b){for(var c in b)i(b[c])?a[c]=j(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a}),k=(f.results=function(a,b,c){if(h(a[b])){var d=Array.prototype.slice.call(arguments).slice(3);return a[b].apply(c||this,d)}return a[b]},f.uniqueId=function(a,b){for(var c=0;c<b.length;c++)if(a.is(b[c].$el))return b[c].id;return"el"+b.length},f.tweenPosition=function(a,b,c){var d=a-b,e=c-b;return 0>d?0:d>e?1:d/e},2*Math.PI),l={};l.Linear=function(a,b,c){return a*c+b},l.QuadIn=function(a,b,c){return c*(a/=1)*a+b},l.QuadOut=function(a,b,c){return-c*(a/=1)*(a-2)+b},l.QuadInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},l.CubicIn=function(a,b,c){return c*(a/=1)*a*a+b},l.CubicOut=function(a,b,c){return c*((a=a/1-1)*a*a+1)+b},l.CubicInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},l.QuartIn=function(a,b,c){return c*(a/=1)*a*a*a+b},l.QuartOut=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},l.QuartInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},l.QuintIn=function(a,b,c){return c*(a/=1)*a*a*a*a+b},l.QuintOut=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},l.QuintInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},l.SineIn=function(a,b,c){return-c*Math.cos(a/1*(Math.PI/2))+c+b},l.SineOut=function(a,b,c){return c*Math.sin(a/1*(Math.PI/2))+b},l.SineInOut=function(a,b,c){return-c/2*(Math.cos(Math.PI*a/1)-1)+b},l.ExpoIn=function(a,b,c){return 0===a?b:c*Math.pow(2,10*(a/1-1))+b},l.ExpoOut=function(a,b,c){return 1===a?b+c:c*(-Math.pow(2,-10*a/1)+1)+b},l.ExpoInOut=function(a,b,c){return 0===a?b:1===a?b+c:(a/=.5)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},l.CircIn=function(a,b,c){return-c*(Math.sqrt(1-(a/=1)*a)-1)+b},l.CircOut=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},l.CircInOut=function(a,b,c){return(a/=.5)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},l.ElasticIn=function(b,c,d){var e=1.70158,f=0,g=d;if(0===b)return c;if(1===b)return c+d;f||(f=.3);var h=a(g,e,f,d);return-(h.a*Math.pow(2,10*(b-=1))*Math.sin((1*b-h.s)*k/f))+c},l.ElasticOut=function(b,c,d){var e=1.70158,f=0,g=d;if(0===b)return c;if(1===b)return c+d;f||(f=.3);var h=a(g,e,f,d);return h.a*Math.pow(2,-10*b)*Math.sin((1*b-h.s)*k/f)+d+c},l.ElasticInOut=function(b,c,d){var e=1.70158,f=0,g=d;if(0===b)return c;if(2===(b/=.5))return c+d;f||(f=.3*1.5);var h=a(g,e,f,d);return 1>b?-.5*h.a*Math.pow(2,10*(b-=1))*Math.sin((1*b-h.s)*k/f)+c:h.a*Math.pow(2,-10*(b-=1))*Math.sin((1*b-h.s)*k/f)*.5+d+c},l.BounceIn=function(a,b,c){return c-l.BounceOut(1-a,0,c)+b},l.BounceOut=function(a,b,c){return(a/=1)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},l.BounceInOut=function(a,b,c){return.5>a?.5*l.BounceIn(2*a,0,c)+b:.5*l.BounceOut(2*a-1,0,c)+.5*c+b},b.prototype.options={val:0,$el:!1,scroll:{min:0,max:1e3},values:{start:0,stop:1},property:"opacity"},b.prototype.update=function(a){this.start=f.results(this.options.scroll,"start",this,this.$el),this.stop=f.results(this.options.scroll,"stop",this,this.$el),this.startVal=f.results(this.options.values,"start",this,this.$el),this.stopVal=f.results(this.options.values,"stop",this,this.$el),this.percent=f.tweenPosition(a,this.start,this.stop);var b=this.stopVal-this.startVal;this.val=this.ease.call(this,this.percent,this.startVal,b)},b.prototype.pushCSS=function(a){return a=a||{$el:this.$el,css:{}},"transform"===this.options.property?(a.css.transform=a.css.transform||"",a.css.transform+=" "+this.options.transform.replace("%s",this.val)):"filter"===this.options.property?a.css["-webkit-filter"]=this.options.filter.replace("%s",this.val):a.css[this.options.property]=this.val,a};var m=function(a){a=f.shallowClone(a||{}),this.options=f.assign(a,this.options),setInterval(this.updateScrollPosition.bind(this),15),this.loop()};m.prototype.updateScrollPosition=function(){var a=(this.scrollPosition-this.getScrollTop())*this.options.speed;Math.abs(a)>.003?this.scrollPosition-=a:this.scrollPosition=this.getScrollTop()},m.prototype.options={speed:.3},m.prototype.items=[],m.prototype.paused=!1,m.prototype.pause=function(){return this.paused=!0,this},m.prototype.play=function(){return this.paused=!1,this},m.prototype.toggle=function(){return this.paused=!this.paused,this},m.prototype.running=function(a){return f.isBoolean(a)?void(this.paused=!a):!this.paused},m.prototype.clear=function(){return this.items=[],this},m.prototype.add=function(a){var c=f.uniqueId(a.$el,this.items),d=new b(c,a,this);return this.items.push(d),this};var n=document.documentElement;return m.prototype.getScrollTop=function(){return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)},m.prototype.scrollPosition=0,m.prototype.lastScrollPosition=null,m.prototype.loop=function(){!1===this.paused&&this.scrollPosition!==this.lastScrollPosition&&this.update(),this.lastScrollPosition=this.scrollPosition,window.requestAnimationFrame(this.loop.bind(this))},m.prototype.applyCSS=function(a){var b;for(b in a)a.hasOwnProperty(b)&&a[b].$el.css(a[b].css)},m.prototype.update=function(){for(var a,b={},c=-1,d=this.items.length,e=this.scrollPosition;++c<d;)a=this.items[c],a.update(e),f.isObject(a.tween)?a.tween.progress(a.percent):"scrollTop"===a.options.property?a.$el.scrollTop(a.val):b[a.id]=a.pushCSS(b[a.id]),a=void 0;this.applyCSS(b)},m.prototype.Ease=l,m});