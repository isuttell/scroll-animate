/*!
 ____ ____ ____ ____ _    _       ____ __ _ _ _  _ ____ ___ ____
 ==== |___ |--< [__] |___ |___ -- |--| | \| | |\/| |--|  |  |===
 scroll-animate 0.4.0 <https://github.com/isuttell/scroll-animate>
 Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 Last Build: 2014-12-08
*/
!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["jquery"],function(c){return b(a,c)}):a.ScrollAnimate=b(a,a.jQuery||a.$)}(this,function(){"use strict";function a(a,b,c){b=e.shallowClone(b||{}),this.options=e.assign(b,this.options),this.parent=c,this.$el=this.options.$el,delete this.options.$el,e.isFunction(this.options.tween)&&(this.tween=this.options.tween(this.options.$el).pause()),this.ease=e.isString(this.options.ease)&&e.isFunction(k[this.options.ease])?k[this.options.ease]:k.Linear,this.update(0),this.id=a}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var d=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d)),e=window.setTimeout(function(){a(b+c)},c);return d=b+c,e}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var e={},f=e.isType=function(a,b){var c={}.toString.call(a).toLowerCase();return c==="[object "+b.toLowerCase()+"]"},g=e.isFunction=function(a){return f(a,"function")},h=(e.isString=function(a){return f(a,"string")},e.isNumber=function(a){return f(a,"number")},e.isObject=function(a){return f(a,"object")}),i=(e.isBoolean=function(a){return f(a,"boolean")},e.shallowClone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},e.assign=function(a,b){for(var c in b)h(b[c])?a[c]=i(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a}),j=(e.results=function(a,b,c){if(g(a[b])){var d=Array.prototype.slice.call(arguments).slice(3);return a[b].apply(c||this,d)}return a[b]},e.uniqueId=function(a,b){for(var c=0;c<b.length;c++)if(a.is(b[c].$el))return b[c].id;return"el"+b.length},e.tweenPosition=function(a,b,c){var d=a-b,e=c-b;return 0>d?0:d>e?1:d/e},2*Math.PI),k={};k.Linear=function(a,b,c){return a*c+b},k.QuadIn=function(a,b,c){return c*(a/=1)*a+b},k.QuadOut=function(a,b,c){return-c*(a/=1)*(a-2)+b},k.QuadInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},k.CubicIn=function(a,b,c){return c*(a/=1)*a*a+b},k.CubicOut=function(a,b,c){return c*((a=a/1-1)*a*a+1)+b},k.CubicInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},k.QuartIn=function(a,b,c){return c*(a/=1)*a*a*a+b},k.QuartOut=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},k.QuartInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},k.QuintIn=function(a,b,c){return c*(a/=1)*a*a*a*a+b},k.QuintOut=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},k.QuintInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},k.SineIn=function(a,b,c){return-c*Math.cos(a/1*(Math.PI/2))+c+b},k.SineOut=function(a,b,c){return c*Math.sin(a/1*(Math.PI/2))+b},k.SineInOut=function(a,b,c){return-c/2*(Math.cos(Math.PI*a/1)-1)+b},k.ExpoIn=function(a,b,c){return 0===a?b:c*Math.pow(2,10*(a/1-1))+b},k.ExpoOut=function(a,b,c){return 1===a?b+c:c*(-Math.pow(2,-10*a/1)+1)+b},k.ExpoInOut=function(a,b,c){return 0===a?b:1===a?b+c:(a/=.5)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},k.CircIn=function(a,b,c){return-c*(Math.sqrt(1-(a/=1)*a)-1)+b},k.CircOut=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},k.CircInOut=function(a,b,c){return(a/=.5)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},k.ElasticIn=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/j*Math.asin(c/f),-(f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*j/e))+b)},k.ElasticOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/j*Math.asin(c/f),f*Math.pow(2,-10*a)*Math.sin((1*a-d)*j/e)+c+b)},k.ElasticInOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:2===(a/=.5)?b+c:(e||(e=.3*1.5),f<Math.abs(c)?(f=c,d=e/4):d=e/j*Math.asin(c/f),1>a?-.5*f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*j/e)+b:f*Math.pow(2,-10*(a-=1))*Math.sin((1*a-d)*j/e)*.5+c+b)},k.BounceIn=function(a,b,c){return c-k.BounceOut(1-a,0,c)+b},k.BounceOut=function(a,b,c){return(a/=1)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},k.BounceInOut=function(a,b,c){return.5>a?.5*k.BounceIn(2*a,0,c)+b:.5*k.BounceOut(2*a-1,0,c)+.5*c+b},a.prototype.options={val:0,$el:!1,scroll:{min:0,max:1e3},values:{start:0,stop:1},property:"opacity"},a.prototype.update=function(a){this.start=e.results(this.options.scroll,"start",this,this.$el),this.stop=e.results(this.options.scroll,"stop",this,this.$el),this.startVal=e.results(this.options.values,"start",this,this.$el),this.stopVal=e.results(this.options.values,"stop",this,this.$el),this.percent=e.tweenPosition(a,this.start,this.stop);var b=this.stopVal-this.startVal;this.val=this.ease.call(this,this.percent,this.startVal,b)},a.prototype.pushCSS=function(a){return a=a||{$el:this.$el,css:{}},"transform"===this.options.property?(a.css.transform=a.css.transform||"",a.css.transform+=" "+this.options.transform.replace("%s",this.val)):"filter"===this.options.property?a.css["-webkit-filter"]=this.options.filter.replace("%s",this.val):a.css[this.options.property]=this.val,a};var l=function(a){a=e.shallowClone(a||{}),this.options=e.assign(a,this.options),setInterval(this.updateScrollPosition.bind(this),15),this.loop()};l.prototype.updateScrollPosition=function(){var a=(this.scrollPosition-this.getScrollTop())*this.options.speed;Math.abs(a)>.003?this.scrollPosition-=a:this.scrollPosition=this.getScrollTop()},l.prototype.options={speed:.3},l.prototype.items=[],l.prototype.paused=!1,l.prototype.pause=function(){return this.paused=!0,this},l.prototype.play=function(){return this.paused=!1,this},l.prototype.toggle=function(){return this.paused=!this.paused,this},l.prototype.running=function(a){return e.isBoolean(a)?void(this.paused=!a):!this.paused},l.prototype.clear=function(){return this.items=[],this},l.prototype.add=function(b){var c=e.uniqueId(b.$el,this.items),d=new a(c,b,this);return this.items.push(d),this};var m=document.documentElement;return l.prototype.getScrollTop=function(){return(window.pageYOffset||m.scrollTop)-(m.clientTop||0)},l.prototype.scrollPosition=0,l.prototype.lastScrollPosition=null,l.prototype.loop=function(){!1===this.paused&&this.scrollPosition!==this.lastScrollPosition&&this.update(),this.lastScrollPosition=this.scrollPosition,window.requestAnimationFrame(this.loop.bind(this))},l.prototype.applyCSS=function(a){a=a||this.targets;var b;for(b in a)a.hasOwnProperty(b)&&a[b].$el.css(a[b].css)},l.prototype.update=function(){for(var a,b={},c=-1,d=this.items.length,f=this.scrollPosition;++c<d;)a=this.items[c],a.update(f),e.isObject(a.options.tween)&&e.isFunction(a.options.tween.progress)?a.options.tween.progress(a.percent):"scrollTop"===a.options.property?a.$el.scrollTop(a.val):b[a.id]=a.pushCSS(b[a.id]),a=void 0;this.applyCSS(b)},l.prototype.Ease=k,l.prototype.Utilities=e,l});