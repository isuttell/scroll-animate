/*!
 * scroll-animate v0.2.1 - https://github.com/isuttell/scroll-animate
 * Animate elements by scroll position
 * Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 */

!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["jquery","exports"],function(c,d){a.ScrollAnimate=b(a,d,c)}):a.ScrollAnimate=b(a,{},a.jQuery)}(this,function(a,ScrollAnimate,b){"use strict";function c(a){p=!0,a.preventDefault&&a.preventDefault(),a.originalEvent.wheelDelta?r=a.originalEvent.wheelDelta/120:a.originalEvent.detail&&(r=-a.originalEvent.detail/3),i.loop||o()}function d(a,b,c){var d=a-b,e=c-b;return 0>d?0:d>e?1:d/e}function e(a,b){for(var c in b)"object"==typeof b[c]?a[c]=e(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a}for(var f=["ms","moz","webkit","o"],g=0;g<f.length&&!window.requestAnimationFrame;++g)window.requestAnimationFrame=window[f[g]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[f[g]+"CancelAnimationFrame"]||window[f[g]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var h=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-h)),d=window.setTimeout(function(){a(b+c)},c);return h=b+c,d}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var i={loop:!0,smoothScroll:{enabled:!1,speed:15}},j={$el:!1,scroll:{min:0,max:1e3},values:{start:0,stop:1},property:"opacity"};ScrollAnimate.options=function(a){return"object"==typeof a?(i=e(a,i),this):i},ScrollAnimate.run=function(a){this.options(a||{});for(var b=0;b<l.length;b++)("string"!=typeof l[b].ease||"function"!=typeof w[l[b].ease])&&(l[b].ease="Linear");return i.loop&&m===!0&&v(),k===!1&&this.addEventListeners(),m=!1,this};var k=!1;ScrollAnimate.addEventListeners=function(){return i.smoothScroll.enabled||(o(),b(window).scroll(o)),i.smoothScroll.enabled&&b(window).bind("mousewheel DOMMouseScroll",c),k=!0,this},ScrollAnimate.removeEventListeners=function(){return i.smoothScroll.enabled||b(window).unbind("scroll",o),i.smoothScroll.enabled&&b(window).unbind("mousewheel DOMMouseScroll",c),k=!1,this};var l=[];ScrollAnimate._getItems=function(){return l};var m=!0;ScrollAnimate.pause=function(){return m=!0,this},ScrollAnimate.play=function(){return m=!1,this},ScrollAnimate.toggle=function(){return m=!m,this},ScrollAnimate.running=function(a){return"boolean"!=typeof a?!m:void(m=!a)};var n=(new Date).getTime(),o=function(){(new Date).getTime()-n>16&&(n=(new Date).getTime(),window.requestAnimationFrame(v))},p=!1,q=0,r=0;ScrollAnimate.clear=function(){return l=[],this};var s=0;ScrollAnimate.add=function(a){if(a=e(a,j),a.$el){a.id="el"+s++;for(var b=0;b<l.length;b++)a.$el.is(l[b].$el)&&(a.id=l[b].id);"function"==typeof a.tween&&(a.tween=a.tween(a.$el).pause()),l.push(a)}return this};var t=null,u=2*Math.PI,v=function(){var a,c=b(window).scrollTop();if(m===!1&&c!==t){var e=[];for(a=0;a<l.length;a++){var f=l[a].scroll.start,g=l[a].scroll.stop;"function"==typeof f&&(f=f(l[a].$el)),"function"==typeof g&&(g=g(l[a].$el));var h=l[a].values.start,j=l[a].values.stop;"function"==typeof h&&(h=h(l[a].$el)),"function"==typeof j&&(j=j(l[a].$el));var k=d(c,f,g),n=j-h,o=w[l[a].ease](k,h,n,1);"object"==typeof l[a].tween&&"function"==typeof l[a].tween.progress?l[a].tween.progress(k):"transform"===l[a].property?(e[l[a].id]=e[l[a].id]||{$el:l[a].$el,css:{transform:""}},e[l[a].id].css.transform+=" "+l[a].transform.replace("%s",o)):"scrollTop"===l[a].property?l[a].$el.scrollTop(o):(e[l[a].id]=e[l[a].id]||{$el:l[a].$el,css:{}},e[l[a].id].css[l[a].property]=o)}for(a in e)e[a].$el.css(e[a].css)}t=c,i.smoothScroll.enabled&&p&&(window.scrollBy(0,-r*i.smoothScroll.speed),q++,q>10&&(q=0,p=!1,r=0)),i.loop&&window.requestAnimationFrame(v)},w=ScrollAnimate.Ease={};return w.Linear=function(a,b,c){return a*c+b},w.QuadIn=function(a,b,c){return c*(a/=1)*a+b},w.QuadOut=function(a,b,c){return-c*(a/=1)*(a-2)+b},w.QuadInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},w.CubicIn=function(a,b,c){return c*(a/=1)*a*a+b},w.CubicOut=function(a,b,c){return c*((a=a/1-1)*a*a+1)+b},w.CubicInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},w.QuartIn=function(a,b,c){return c*(a/=1)*a*a*a+b},w.QuartOut=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},w.QuartInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},w.QuintIn=function(a,b,c){return c*(a/=1)*a*a*a*a+b},w.QuintOut=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},w.QuintInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},w.SineIn=function(a,b,c){return-c*Math.cos(a/1*(Math.PI/2))+c+b},w.SineOut=function(a,b,c){return c*Math.sin(a/1*(Math.PI/2))+b},w.SineInOut=function(a,b,c){return-c/2*(Math.cos(Math.PI*a/1)-1)+b},w.ExpoIn=function(a,b,c){return 0===a?b:c*Math.pow(2,10*(a/1-1))+b},w.ExpoOut=function(a,b,c){return 1==a?b+c:c*(-Math.pow(2,-10*a/1)+1)+b},w.ExpoInOut=function(a,b,c){return 0===a?b:1==a?b+c:(a/=.5)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},w.CircIn=function(a,b,c){return-c*(Math.sqrt(1-(a/=1)*a)-1)+b},w.CircOut=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},w.CircInOut=function(a,b,c){return(a/=.5)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},w.ElasticIn=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/u*Math.asin(c/f),-(f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*u/e))+b)},w.ElasticOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/u*Math.asin(c/f),f*Math.pow(2,-10*a)*Math.sin((1*a-d)*u/e)+c+b)},w.ElasticInOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:2==(a/=.5)?b+c:(e||(e=.3*1.5),f<Math.abs(c)?(f=c,d=e/4):d=e/u*Math.asin(c/f),1>a?-.5*f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*u/e)+b:f*Math.pow(2,-10*(a-=1))*Math.sin((1*a-d)*u/e)*.5+c+b)},w.BounceIn=function(a,b,c){return c-w.BounceOut(1-a,0,c)+b},w.BounceOut=function(a,b,c){return(a/=1)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},w.BounceInOut=function(a,b,c){return.5>a?.5*w.BounceIn(2*a,0,c)+b:.5*w.BounceOut(2*a-1,0,c)+.5*c+b},ScrollAnimate});