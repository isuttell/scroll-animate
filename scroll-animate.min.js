/*!
 ____ ____ ____ ____ _    _       ____ __ _ _ _  _ ____ ___ ____
 ==== |___ |--< [__] |___ |___ -- |--| | \| | |\/| |--|  |  |===
 scroll-animate 0.4.0 <https://github.com/isuttell/scroll-animate>
 Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 Last Build: 2014-12-08
*/
!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["jquery"],function(c){return b(a,c)}):a.ScrollAnimate=b(a,a.jQuery||a.$)}(this,function(){"use strict";function a(a,b,c,d){return a<Math.abs(d)?(a=d,b=c/4):b=c/l*Math.asin(d/a),{a:a,s:b}}function b(a,b,c,d,e,f){return f*a*Math.pow(2,10*(b-=1))*Math.sin((1*b-c)*l/d)+e}function c(a,b,c){b=g.shallowClone(b||{}),this.options=g.assign(b,this.options),this.id=a,this.parent=c,this.$el=this.options.$el,delete this.options.$el,g.isFunction(this.options.tween)&&(this.tween=this.options.tween(this.options.$el).pause()),this.ease=g.isString(this.options.ease)&&g.isFunction(m[this.options.ease])?m[this.options.ease]:m.Linear,this.update(0)}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});for(var d=["ms","moz","webkit","o"],e=0;e<d.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[d[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[e]+"CancelAnimationFrame"]||window[d[e]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var f=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-f)),d=window.setTimeout(function(){a(b+c)},c);return f=b+c,d}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var g={},h=g.isType=function(a,b){var c={}.toString.call(a).toLowerCase();return c==="[object "+b.toLowerCase()+"]"},i=g.isFunction=function(a){return h(a,"function")},j=(g.isString=function(a){return h(a,"string")},g.isNumber=function(a){return h(a,"number")},g.isObject=function(a){return h(a,"object")}),k=(g.isBoolean=function(a){return h(a,"boolean")},g.shallowClone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},g.assign=function(a,b){for(var c in b)j(b[c])?a[c]=k(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a}),l=(g.results=function(a,b,c){if(i(a[b])){var d=Array.prototype.slice.call(arguments).slice(3);return a[b].apply(c||this,d)}return a[b]},g.uniqueId=function(a,b){for(var c=0;c<b.length;c++)if(a.is(b[c].$el))return b[c].id;return"el"+b.length},g.tweenPosition=function(a,b,c){var d=a-b,e=c-b;return 0>d?0:d>e?1:d/e},2*Math.PI),m={};m.Linear=function(a,b,c){return a*c+b},m.QuadIn=function(a,b,c){return c*(a/=1)*a+b},m.QuadOut=function(a,b,c){return-c*(a/=1)*(a-2)+b},m.QuadInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},m.CubicIn=function(a,b,c){return c*(a/=1)*a*a+b},m.CubicOut=function(a,b,c){return c*((a=a/1-1)*a*a+1)+b},m.CubicInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},m.QuartIn=function(a,b,c){return c*(a/=1)*a*a*a+b},m.QuartOut=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},m.QuartInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},m.QuintIn=function(a,b,c){return c*(a/=1)*a*a*a*a+b},m.QuintOut=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},m.QuintInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},m.SineIn=function(a,b,c){return-c*Math.cos(a/1*(Math.PI/2))+c+b},m.SineOut=function(a,b,c){return c*Math.sin(a/1*(Math.PI/2))+b},m.SineInOut=function(a,b,c){return-c/2*(Math.cos(Math.PI*a/1)-1)+b},m.ExpoIn=function(a,b,c){return 0===a?b:c*Math.pow(2,10*(a/1-1))+b},m.ExpoOut=function(a,b,c){return 1===a?b+c:c*(-Math.pow(2,-10*a/1)+1)+b},m.ExpoInOut=function(a,b,c){return 0===a?b:1===a?b+c:(a/=.5)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},m.CircIn=function(a,b,c){return-c*(Math.sqrt(1-(a/=1)*a)-1)+b},m.CircOut=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},m.CircInOut=function(a,b,c){return(a/=.5)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},m.ElasticIn=function(c,d,e){var f=1.70158,g=0,h=e;if(0===c)return d;if(1===c)return d+e;g||(g=.3);var i=a(h,f,g,e);return b(i.a,c,i.s,g,d,-1)},m.ElasticOut=function(b,c,d){var e=1.70158,f=0,g=d;if(0===b)return c;if(1===b)return c+d;f||(f=.3);var h=a(g,e,f,d);return h.a*Math.pow(2,-10*b)*Math.sin((1*b-h.s)*l/f)+d+c},m.ElasticInOut=function(c,d,e){var f=1.70158,g=0,h=e;if(0===c)return d;if(2===(c/=.5))return d+e;g||(g=.3*1.5);var i=a(h,f,g,e);return 1>c?b(i.a,c,i.s,g,d,-.5):i.a*Math.pow(2,-10*(c-=1))*Math.sin((1*c-i.s)*l/g)*.5+e+d},m.BounceIn=function(a,b,c){return c-m.BounceOut(1-a,0,c)+b},m.BounceOut=function(a,b,c){return(a/=1)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},m.BounceInOut=function(a,b,c){return.5>a?.5*m.BounceIn(2*a,0,c)+b:.5*m.BounceOut(2*a-1,0,c)+.5*c+b},c.prototype.options={val:0,$el:!1,scroll:{min:0,max:1e3},values:{start:0,stop:1},property:"opacity"},c.prototype.update=function(a){this.start=g.results(this.options.scroll,"start",this,this.$el),this.stop=g.results(this.options.scroll,"stop",this,this.$el),this.startVal=g.results(this.options.values,"start",this,this.$el),this.stopVal=g.results(this.options.values,"stop",this,this.$el),this.percent=g.tweenPosition(a,this.start,this.stop);var b=this.stopVal-this.startVal;this.val=this.ease.call(this,this.percent,this.startVal,b)},c.prototype.pushCSS=function(a){return a=a||{$el:this.$el,css:{}},"transform"===this.options.property?(a.css.transform=a.css.transform||"",a.css.transform+=" "+this.options.transform.replace("%s",this.val)):"filter"===this.options.property?a.css["-webkit-filter"]=this.options.filter.replace("%s",this.val):a.css[this.options.property]=this.val,a};var n=function(a){a=g.shallowClone(a||{}),this.options=g.assign(a,this.options),setInterval(this.updateScrollPosition.bind(this),15),this.loop()};n.prototype.updateScrollPosition=function(){var a=(this.scrollPosition-this.getScrollTop())*this.options.speed;Math.abs(a)>.003?this.scrollPosition-=a:this.scrollPosition=this.getScrollTop()},n.prototype.options={speed:.3},n.prototype.items=[],n.prototype.paused=!1,n.prototype.pause=function(){return this.paused=!0,this},n.prototype.play=function(){return this.paused=!1,this},n.prototype.toggle=function(){return this.paused=!this.paused,this},n.prototype.running=function(a){return g.isBoolean(a)?void(this.paused=!a):!this.paused},n.prototype.clear=function(){return this.items=[],this},n.prototype.add=function(a){var b=g.uniqueId(a.$el,this.items),d=new c(b,a,this);return this.items.push(d),this};var o=document.documentElement;return n.prototype.getScrollTop=function(){return(window.pageYOffset||o.scrollTop)-(o.clientTop||0)},n.prototype.scrollPosition=0,n.prototype.lastScrollPosition=null,n.prototype.loop=function(){!1===this.paused&&this.scrollPosition!==this.lastScrollPosition&&this.update(),this.lastScrollPosition=this.scrollPosition,window.requestAnimationFrame(this.loop.bind(this))},n.prototype.applyCSS=function(a){var b;for(b in a)a.hasOwnProperty(b)&&a[b].$el.css(a[b].css)},n.prototype.update=function(){for(var a,b={},c=-1,d=this.items.length,e=this.scrollPosition;++c<d;)a=this.items[c],a.update(e),g.isObject(a.tween)?a.tween.progress(a.percent):"scrollTop"===a.options.property?a.$el.scrollTop(a.val):b[a.id]=a.pushCSS(b[a.id]),a=void 0;this.applyCSS(b)},n.prototype.Ease=m,n});