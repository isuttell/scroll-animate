/*!
 * scroll-animate v0.3.3 - https://github.com/isuttell/scroll-animate
 * Animate elements by scroll position
 * Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 */

!function(a,b){"use strict";"function"==typeof define&&"object"==typeof define.amd?define(["jquery","exports"],function(c,d){return b(a,d,c)}):a.ScrollAnimate=b(a,{},a.jQuery)}(this,function(a,ScrollAnimate,b){"use strict";function c(){D=!0;var a=C();!1===q&&a!==z&&G(),z=a,!0===g.smoothScroll.enabled&&!0===t&&(window.scrollBy(0,-v*g.smoothScroll.speed),u++,u>10&&(u=0,t=!1,v=0)),window.requestAnimationFrame(c)}for(var d=["ms","moz","webkit","o"],e=0;e<d.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[d[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[e]+"CancelAnimationFrame"]||window[d[e]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var f=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-f)),d=window.setTimeout(function(){a(b+c)},c);return f=b+c,d}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var g={smoothScroll:{enabled:!1,speed:15}},h={_currentValue:0,$el:!1,scroll:{min:0,max:1e3},values:{start:0,stop:1},property:"opacity"};ScrollAnimate.VERSION="0.3.3",ScrollAnimate._util={};var i=ScrollAnimate._util.tweenPosition=function(a,b,c){var d=a-b,e=c-b;return 0>d?0:d>e?1:d/e},j=ScrollAnimate._util.extend=function(a,b){for(var c in b)l(b[c])?a[c]=j(a[c]||{},b[c]):"undefined"==typeof a[c]&&(a[c]=b[c]);return a},k=ScrollAnimate._util.isFunction=function(a){return"[object Function]"==={}.toString.call(a)},l=ScrollAnimate._util.isObject=function(a){return"[object Object]"==={}.toString.call(a)},m=ScrollAnimate._util.isString=function(a){return"[object String]"==={}.toString.call(a)},n=ScrollAnimate._util.results=function(a,b,c){if(k(a[b])){var d=Array.prototype.slice.call(arguments).slice(3);return a[b].apply(c||ScrollAnimate,d)}return a[b]};ScrollAnimate.options=function(a){return l(a)?(g=j(a,g),this):g},ScrollAnimate.run=function(a){return this.options(a||{}),q=!1,!1===D&&c(),o===!1&&this.addEventListeners(),this};var o=!1;ScrollAnimate.addEventListeners=function(){return g.smoothScroll.enabled||(s(),b(window).scroll(s)),g.smoothScroll.enabled&&b(window).bind("mousewheel DOMMouseScroll",w),o=!0,this},ScrollAnimate.removeEventListeners=function(){return g.smoothScroll.enabled||b(window).unbind("scroll",s),g.smoothScroll.enabled&&b(window).unbind("mousewheel DOMMouseScroll",w),o=!1,this};var p=[];ScrollAnimate._getItems=function(){return p};var q=!0;ScrollAnimate.pause=function(){return q=!0,this},ScrollAnimate.play=function(){return q=!1,this},ScrollAnimate.toggle=function(){return q=!q,this},ScrollAnimate.running=function(a){return"boolean"!=typeof a?!q:void(q=!a)};var r=(new Date).getTime(),s=function(){(new Date).getTime()-r>16&&(r=(new Date).getTime(),window.requestAnimationFrame(c))},t=!1,u=0,v=0,w=ScrollAnimate._mouseScroll=function(a){return t=!0,a.preventDefault&&a.preventDefault(),a.originalEvent.wheelDelta?v=a.originalEvent.wheelDelta/120:a.originalEvent.detail&&(v=-a.originalEvent.detail/3),v};ScrollAnimate.clear=function(){return p=[],this};var x=0;ScrollAnimate.add=function(a){return a=j(a,h),a.id=y(a.$el),k(a.tween)&&(a.tween=a.tween(a.$el).pause()),m(a.ease)&&k(H[a.ease])||(a.ease="Linear"),p.push(a),this};var y=function(a){for(var b=0;b<p.length;b++)if(a.is(p[b].$el))return p[b].id;return"el"+x++},z=null,A=2*Math.PI,B=document.documentElement,C=ScrollAnimate.getScrollTop=function(){return(window.pageYOffset||B.scrollTop)-(B.clientTop||0)},D=!1,E=ScrollAnimate.applyCSS=function(a){var b;for(b in a)a.hasOwnProperty(b)&&a[b].$el.css(a[b].css)},F=ScrollAnimate.getTargetCSS=function(a,b){return b=b||{$el:a.$el,css:{}},"transform"===a.property?(b.css.transform=b.css.transform||"",b.css.transform+=" "+a.transform.replace("%s",a._currentValue)):"filter"===a.property?b.css["-webkit-filter"]=a.filter.replace("%s",a._currentValue):b.css[a.property]=a._currentValue,b},G=ScrollAnimate.update=function(){var a,b=[],c=ScrollAnimate.getScrollTop();for(a=0;a<p.length;a++){var d=n(p[a].scroll,"start",p[a],p[a].$el),e=n(p[a].scroll,"stop",p[a],p[a].$el),f=n(p[a].values,"start",p[a],p[a].$el),g=n(p[a].values,"stop",p[a],p[a].$el),h=i(c,d,e),j=g-f;p[a]._currentValue=H[p[a].ease](h,f,j,1),l(p[a].tween)&&k(p[a].tween.progress)?p[a].tween.progress(h):"scrollTop"===p[a].property?p[a].$el.scrollTop(p[a]._currentValue):b[p[a].id]=F(p[a],b[p[a].id])}E(b)},H=ScrollAnimate.Ease={};return H.Linear=function(a,b,c){return a*c+b},H.QuadIn=function(a,b,c){return c*(a/=1)*a+b},H.QuadOut=function(a,b,c){return-c*(a/=1)*(a-2)+b},H.QuadInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},H.CubicIn=function(a,b,c){return c*(a/=1)*a*a+b},H.CubicOut=function(a,b,c){return c*((a=a/1-1)*a*a+1)+b},H.CubicInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},H.QuartIn=function(a,b,c){return c*(a/=1)*a*a*a+b},H.QuartOut=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},H.QuartInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},H.QuintIn=function(a,b,c){return c*(a/=1)*a*a*a*a+b},H.QuintOut=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},H.QuintInOut=function(a,b,c){return(a/=.5)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},H.SineIn=function(a,b,c){return-c*Math.cos(a/1*(Math.PI/2))+c+b},H.SineOut=function(a,b,c){return c*Math.sin(a/1*(Math.PI/2))+b},H.SineInOut=function(a,b,c){return-c/2*(Math.cos(Math.PI*a/1)-1)+b},H.ExpoIn=function(a,b,c){return 0===a?b:c*Math.pow(2,10*(a/1-1))+b},H.ExpoOut=function(a,b,c){return 1===a?b+c:c*(-Math.pow(2,-10*a/1)+1)+b},H.ExpoInOut=function(a,b,c){return 0===a?b:1===a?b+c:(a/=.5)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},H.CircIn=function(a,b,c){return-c*(Math.sqrt(1-(a/=1)*a)-1)+b},H.CircOut=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},H.CircInOut=function(a,b,c){return(a/=.5)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},H.ElasticIn=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/A*Math.asin(c/f),-(f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*A/e))+b)},H.ElasticOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:1===a?b+c:(e||(e=.3),f<Math.abs(c)?(f=c,d=e/4):d=e/A*Math.asin(c/f),f*Math.pow(2,-10*a)*Math.sin((1*a-d)*A/e)+c+b)},H.ElasticInOut=function(a,b,c){var d=1.70158,e=0,f=c;return 0===a?b:2===(a/=.5)?b+c:(e||(e=.3*1.5),f<Math.abs(c)?(f=c,d=e/4):d=e/A*Math.asin(c/f),1>a?-.5*f*Math.pow(2,10*(a-=1))*Math.sin((1*a-d)*A/e)+b:f*Math.pow(2,-10*(a-=1))*Math.sin((1*a-d)*A/e)*.5+c+b)},H.BounceIn=function(a,b,c){return c-H.BounceOut(1-a,0,c)+b},H.BounceOut=function(a,b,c){return(a/=1)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},H.BounceInOut=function(a,b,c){return.5>a?.5*H.BounceIn(2*a,0,c)+b:.5*H.BounceOut(2*a-1,0,c)+.5*c+b},ScrollAnimate});